{"version":3,"sources":["Components/Common/Footer.js","Components/Common/TitleToolbar.js","Components/Common/Forms.js","Components/Pages/Annotation/EditText.js","Components/Pages/Annotation/DialogCard.js","Components/Pages/Annotation/DialogTable.js","Components/Pages/Annotation/Tables.js","Components/Pages/Annotation/Creator.js","Components/Pages/Annotation/DialogToolset.js","Components/Pages/Annotation/Toolset.js","Components/Pages/AnnotationPage.js","Components/Pages/Annotation/DialogCardLearning.js","Components/Pages/DownloadPage.js","Components/Pages/UploadPage.js","Components/Pages/ErrorPage.js","Components/Page.js","index.js"],"names":["Footer","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","toolbar","borderBottom","palette","divider","TitleToolbar","classes","React","useState","openHelp","setOpenHelp","Toolbar","className","Grid","container","direction","justifyContent","alignItems","item","xs","Button","size","onClick","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","Avatar","src","component","noWrap","style","fontFamily","fontVariant","Select","value","MenuItem","Forms","props","close","setInfo","info","forms","DialogActions","autoFocus","EditText","meta","selected","turns","edit","entities","split","map","entry","i","slice","indexOf","join","replaceAll","text","setText","fullWidth","TextField","margin","label","multiline","onChange","event","target","newMeta","data","dialogs","utterance","incomingHex","outgoingHex","incoming","background","padding","lineHeight","fontSize","borderRadius","width","position","bottom","left","border","content","height","pointerEvents","borderBottomColor","borderWidth","marginLeft","outgoing","DialogCard","capitalize","string","charAt","toUpperCase","addAlpha","opacity","Math","round","min","max","toString","checkPreviousTopic","i_turn","topic","previousTopic","checkFutureTopic","futureTopic","turn","speaker","topics","textAlign","backgroundColor","Divider","cursor","editTurn","setTopic","Paper","gutterBottom","i_split","i_id","substring","phrase","phrase_split","start","end_id","end","newDelex","ent","handleRemoveEntity","display","verticalAlign","onMouseUp","entity","selection","window","getSelection","anchorOffset","focusOffset","alert","handleSetEntity","intentions","int","ButtonBase","index_remove","splice","handleRemoveIntention","intention","includes","push","handleSetIntention","tablepaper","marginTop","spacing","overflow","tableRow","DialogTable","change","index","newStatus","oldStatus","status","newCount","count","List","type","ListItem","ListItemText","primary","id","ListItemSecondaryAction","IconButton","drawer","select","Fragment","fab_dialogue","fab_learning","a11yProps","Tables","table","setTable","Drawer","anchor","Tabs","indicatorColor","textColor","n","Tab","active","finished","deleted","Fab","randomColor","require","Creator","setOpen","luminosity","creation","setCreation","Box","disabled","newTopics","toolsetOpen","length","newIntentions","newEntities","handleCreate","DialogToolset","toolsetSelected","dense","button","handleSelectIntention","edge","handleSelectEntity","handleSelectTopic","fab_entity","right","fab_intention","fab_topic","Toolset","openToolset","changeToolset","Annotation","useTheme","promiseInProgress","usePromiseTracker","paddingTop","ButtonGroup","trackPromise","axios","get","then","response","learning","dataLearning","metaLearning","catch","error","step","light","ColorButton","withStyles","root","getContrastText","purple","DownloadPage","paddingBottom","startIcon","filename","output","intention_names","e","entity_names","ontology","Array","isArray","intents","actions","d","t","turn_meta","intent_type_ont","intent","intent_type","console","log","meta_delex","final_delex","start_id","newList","file","Blob","JSON","stringify","undefined","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","dropzone","maxWidth","SideCard","Card","CardActionArea","CardMedia","image","flexDirection","CardContent","title","Cards","UploadPage","todo","manual","verification","import_file","import_default","automatic","range","settings","setSettings","handleTodo","name","checked","printError","explicit","message","handleFile","fileObjs","str","setTemp","parse","decodeURIComponent","atob","c","charCodeAt","SyntaxError","json_data","marginBottom","dropzoneText","onAdd","FormGroup","FormControlLabel","control","Checkbox","FormHelperText","FormControl","displayEmpty","renderValue","secondary","entities_id","Object","keys","intentions_id","concat","Set","sort","turnmeta","intent_name","intents_str","intention_list","replace","utterance_delex","oldDelex_split","entity_id","shift","handleConfirm","ErrorPage","themeLight","createTheme","Page","handleStep","nstep","sendInfo","CssBaseline","minHeight","Container","paddingRight","paddingLeft","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1b5fb024.chunk.js","sourcesContent":["import Link from '@material-ui/core/Link';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Footer() {\r\n    return(\r\n        <footer>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n                {'Copyright © '}\r\n                <Link color=\"inherit\" href=\"https://github.com/Ze-Carioca-Team/Anotador\">\r\n                    Zé Carioca Team (Github)\r\n                </Link>{' '}\r\n                {new Date().getFullYear()}\r\n                {'.'}\r\n            </Typography>\r\n        </footer>\r\n    )\r\n}","import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n}));\r\n\r\nexport default function TitleToolbar() {\r\n    const classes = useStyles();\r\n    const [openHelp, setOpenHelp] = React.useState(false);\r\n    return(\r\n        <Toolbar className={classes.toolbar}>\r\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                <Grid item xs={1}>\r\n                    <Button size=\"small\" onClick={() => {setOpenHelp(true)}}>Ajuda</Button>\r\n                    <Dialog open={openHelp} onClose={() => {setOpenHelp(false)}}>\r\n                        <DialogTitle>{\"Sobre o IAnotador\"}</DialogTitle>\r\n                        <DialogContent>\r\n                            <DialogContentText>\r\n                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus maximus quam dapibus massa viverra, sed convallis dolor bibendum. Morbi ornare eros vel orci porttitor, sit amet molestie nisl varius. Curabitur velit dolor, egestas quis ex eu, commodo mattis eros. In tortor magna, vulputate maximus convallis sit amet, suscipit in mauris. Praesent tempor eleifend enim ut convallis. Nam vehicula est vitae turpis fringilla vestibulum a lacinia sem. Fusce varius vulputate metus, malesuada sollicitudin arcu pulvinar id. Nam eleifend ornare erat, eu lacinia nibh iaculis ac. Donec sollicitudin risus in orci lacinia accumsan. Proin vulputate dictum viverra.\r\n                                Feito com ❤️ pelo Andreis. Baseado no Design do Henrique.\r\n                            </DialogContentText>\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </Grid>\r\n                <Grid xs={10} item container direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n                    <Avatar src='https://dandonota.files.wordpress.com/2008/10/machado.jpg'/>\r\n                    <Typography component=\"h2\" variant=\"h5\" color=\"inherit\" align=\"center\" noWrap style={{fontFamily: \"Bookman Old Style\", fontVariant: 'small-caps'}}>\r\n                        Assis\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={1}>\r\n                    <Select size=\"small\" value=\"pt\">\r\n                        <MenuItem value=\"pt\">PT</MenuItem>\r\n                        <MenuItem value=\"en\">EN</MenuItem>\r\n                    </Select>\r\n                </Grid>\r\n            </Grid>\r\n        </Toolbar>\r\n    )\r\n}","import Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport React from 'react';\r\n\r\nexport default function Forms(props){\r\n    const close=()=>{\r\n        props.setInfo({...props.info, forms: false})\r\n    }\r\n    return(\r\n        <Dialog open={props.info.forms} onClose={close}>\r\n            <DialogTitle>{\"Ajude a melhorar o Anotador!\"}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Olá! Seja bem-vindo ao ASSIS, a ferramenta anotadora de mensagens para NLP! Para avaliar a usabilidade do nosso aplicativo, estamos pedindo para os usuários completarem um questionário de usabilidade no final da anotação.\r\n                    <br /><br />\r\n                    <b>Se você nunca utilizou a ferramenta antes</b>, basta clicar no botão ajuda ou nos tutoriais. Disponibilizamos alguns <b>dados de exemplo</b> também!\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\" autoFocus onClick={close}>\r\n                    Continuar\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function EditText(props){\r\n    const [text, setText] = React.useState(getText());\r\n    const changeText = (event) => {\r\n        setText(event.target.value);\r\n    };\r\n    function getText(){\r\n        let text = props.info.meta[props.info.selected].turns[props.info.edit].entities;\r\n        return text.split(\"&&&\").map((entry,i) => i!==0?entry.slice(entry.indexOf('###')):entry).join('').replaceAll(\"###\",\"\")\r\n    }\r\n    const close = () => {\r\n        props.setInfo({...props.info, edit:-1});\r\n    };\r\n    const reload = () => {\r\n        let newMeta = props.info.meta;\r\n        newMeta[props.info.selected].turns[props.info.edit].entities = props.info.data.dialogs[props.info.selected].turns[props.info.edit].utterance;\r\n        props.setInfo({...props.info, meta: newMeta, edit:-1});\r\n    };\r\n    const save = () => {\r\n        let newMeta = props.info.meta;\r\n        newMeta[props.info.selected].turns[props.info.edit].entities=text;\r\n        props.setInfo({...props.info, meta: newMeta, edit:-1});\r\n    }\r\n    return (\r\n        <Dialog open={props.info.edit!==-1} fullWidth>\r\n        <DialogTitle>Editar Turno</DialogTitle>\r\n        <DialogContent>\r\n            <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Texto\"\r\n            multiline\r\n            value={text}\r\n            onChange={changeText}\r\n            fullWidth\r\n            />\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button onClick={reload} color=\"primary\">\r\n                Recarregar\r\n            </Button>\r\n            <Button onClick={close} color=\"primary\">\r\n                Cancelar\r\n            </Button>\r\n            <Button onClick={save} color=\"primary\">\r\n                Salvar\r\n            </Button>\r\n        </DialogActions>\r\n        </Dialog>\r\n    );\r\n}","import ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport EditText from './EditText.js';\r\n\r\n\r\n\r\n\r\nconst incomingHex = '#E8E8E8'; // '#b5d9a7'\r\nconst outgoingHex = '#C8C8C8'; // '#b9d5f0'\r\n\r\nconst useStyles = makeStyles({\r\n    incoming: {\r\n        background: incomingHex,\r\n        padding: '18px 20px',\r\n        lineHeight: '26px',\r\n        fontSize: '16px',\r\n        borderRadius: '7px',\r\n        width: '90%',\r\n        position: 'relative',\r\n        '&::after': {\r\n            bottom: '100%',\r\n            left: '5%',\r\n            border: 'solid transparent',\r\n            content: '\" \"',\r\n            height: '0',\r\n            width: '0',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            borderBottomColor: incomingHex,\r\n            borderWidth: '10px',\r\n            marginLeft: '-10px',\r\n          }\r\n    },\r\n    outgoing:{\r\n        background: outgoingHex,\r\n        padding: '18px 18px',\r\n        lineHeight: '26px',\r\n        fontSize: '16px',\r\n        borderRadius: '7px',\r\n        width: '90%',\r\n        position: 'relative',\r\n        '&::after': {\r\n            bottom: '100%',\r\n            left: '95%',\r\n            border: 'solid transparent',\r\n            content: '\" \"',\r\n            height: '0',\r\n            width: '0',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            borderBottomColor: outgoingHex,\r\n            borderWidth: '10px',\r\n            marginLeft: '-10px',\r\n          }\r\n    }\r\n  });\r\n\r\nexport default function DialogCard(props){\r\n    const classes = useStyles();\r\n    function capitalize(string) {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n    function addAlpha(color, opacity) {\r\n        const _opacity = Math.round(Math.min(Math.max(opacity || 1, 0), 1) * 255);\r\n        return color + _opacity.toString(16).toUpperCase();\r\n    }\r\n    \r\n    function handleSetIntention(i_turn){\r\n        if(props.info.intention >= 0 && !props.info.meta[props.info.selected].turns[i_turn].intentions.includes(props.info.intention)){\r\n            let newDialogs = props.info.data.dialogs;\r\n            const speaker = newDialogs[props.info.selected].turns[i_turn].speaker\r\n            const intent = speaker===\"agent\"? \"action\":\"intent\"\r\n            let newMeta = props.info.meta\r\n            newMeta[props.info.selected].turns[i_turn].intentions.push(props.info.intention);\r\n            newMeta[props.info.selected].int++;\r\n            props.setInfo({...props.info, meta: newMeta});\r\n        }\r\n    }\r\n    function handleRemoveIntention(int,i_turn){\r\n        let newMeta = props.info.meta\r\n        const index_remove = newMeta[props.info.selected].turns[i_turn].intentions.indexOf(int);\r\n        if (index_remove > -1) {\r\n            newMeta[props.info.selected].turns[i_turn].intentions.splice(index_remove, 1);\r\n            newMeta[props.info.selected].int--;\r\n        }\r\n        props.setInfo({...props.info, meta: newMeta});\r\n    }\r\n    function handleSetEntity(i_turn,i_split){\r\n        if(props.info.entity >= 0){\r\n            let selection = window.getSelection();\r\n            const start = selection.anchorOffset;\r\n            const end = selection.focusOffset;\r\n            let phrase = props.info.meta[props.info.selected].turns[i_turn].entities\r\n            let phrase_split = phrase.split('###')\r\n            if(i_split%2===0 && end>start && phrase.indexOf(selection.toString())!==-1){\r\n                phrase_split[i_split] = phrase_split[i_split].substring(0,start)+'###'+phrase_split[i_split].substring(start,end)+'&&&'+props.info.entity+'###'+phrase_split[i_split].substring(end)\r\n                let newMeta = props.info.meta;\r\n                newMeta[props.info.selected].ent++;\r\n                newMeta[props.info.selected].turns[i_turn].entities = phrase_split.join('###')\r\n                props.setInfo({...props.info, meta: newMeta});\r\n            }\r\n            else{\r\n                alert(\"Selecione uma área sem uma entidade!\")\r\n            }\r\n        }\r\n    }\r\n    function handleRemoveEntity(i_turn, i_split){\r\n        const phrase = props.info.meta[props.info.selected].turns[i_turn].entities\r\n        const phrase_split = phrase.split('###')\r\n        const start = phrase.indexOf(phrase_split[i_split])\r\n        const end_id = phrase.indexOf('&&&', start)\r\n        const end = phrase.indexOf('###', start)\r\n        const newDelex = phrase.substring(0,start-3)+phrase.substring(start,end_id)+phrase.substring(end+3)\r\n        let newMeta = props.info.meta;\r\n        newMeta[props.info.selected].ent--;\r\n        newMeta[props.info.selected].turns[i_turn].entities = newDelex\r\n        props.setInfo({...props.info, meta: newMeta});\r\n    }\r\n    function editTurn(i_turn){\r\n        props.setInfo({...props.info, edit: i_turn});\r\n    }\r\n    function setTopic(i_turn){\r\n        if(props.info.topic >= 0){\r\n            let newMeta = props.info.meta\r\n            newMeta[props.info.selected].turns[i_turn].topic = props.info.topic;\r\n            props.setInfo({...props.info, meta: newMeta});\r\n        }\r\n    }\r\n    function checkPreviousTopic(i_turn){\r\n        const topic = props.info.meta[props.info.selected].turns[i_turn].topic\r\n        const previousTopic = props.info.meta[props.info.selected].turns[i_turn-1] ? props.info.meta[props.info.selected].turns[i_turn-1].topic : -1\r\n        return topic !==-1 && (previousTopic !== topic)\r\n    }\r\n    function checkFutureTopic(i_turn){\r\n        const topic = props.info.meta[props.info.selected].turns[i_turn].topic\r\n        const futureTopic = props.info.meta[props.info.selected].turns[i_turn+1] ? props.info.meta[props.info.selected].turns[i_turn+1].topic : -1\r\n        return topic !==-1 && (futureTopic !== topic)\r\n    }\r\n    return(\r\n        <Grid item xs={4} container direction=\"column\" justifyContent=\"center\" alignItems=\"stretch\">\r\n            {props.info.edit!==-1?<EditText {...props}/>:null}\r\n            {props.info.data.dialogs[props.info.selected].turns.map((turn, i_turn) => (\r\n                <Grid item container direction=\"column\" justifyContent=\"flex-start\" alignItems={turn.speaker==='agent'?\"flex-start\":\"flex-end\"}>\r\n                    {checkPreviousTopic(i_turn)?\r\n                        <Grid item container style={{position: 'relative'}} xs={12}>\r\n                            <div style={{width: '100%', height: '10px', borderBottom: '1px solid '+props.info.topics[props.info.meta[props.info.selected].turns[i_turn].topic].color, textAlign: 'center'}}>\r\n                                <span style={{backgroundColor: 'white', padding: '0 1rem', color: props.info.topics[props.info.meta[props.info.selected].turns[i_turn].topic].color}}>\r\n                                    {props.info.topics[props.info.meta[props.info.selected].turns[i_turn].topic].value}\r\n                                </span>\r\n                            </div>\r\n                            <Divider/>\r\n                        </Grid>\r\n                    :\r\n                        null\r\n                    } \r\n                    <Grid item style={{padding:'0.5rem'}}>\r\n                        <b>\r\n                            {turn.speaker==='agent'?capitalize(turn.speaker):null}\r\n                            <span style={{cursor: 'pointer'}} onClick={()=>editTurn(i_turn)}> ✎ </span>\r\n                            <span style={{cursor: 'pointer'}} onClick={()=>setTopic(i_turn)}> 📌 </span>\r\n                            {turn.speaker==='client'?capitalize(turn.speaker):null}\r\n                        </b>\r\n                    </Grid>\r\n                    <Grid xs={12} item className={turn.speaker==='agent'?classes.incoming:classes.outgoing} component={Paper}>\r\n                        <Typography component=\"p\" gutterBottom>\r\n                            {props.info.meta[props.info.selected].turns[i_turn].entities.split(\"###\").map((entry, i_split) => {\r\n                                if(i_split%2){\r\n                                    const i_id = entry.indexOf('&&&')\r\n                                    const color = props.info.entities[entry.substring(i_id+3)].color\r\n                                    return <span onClick={()=>handleRemoveEntity(i_turn, i_split)} style={{border:'thin solid '+color, borderRadius: '5px', padding:'2px', cursor: 'pointer', color:color}} className='noselect'>{entry.substring(0,i_id)}\r\n                                        <span style={{fontSize: '8px', display: 'table-cell', verticalAlign: 'middle', backgroundColor: addAlpha(color,0.3), padding:'2px', borderRadius:'4px'}}>{props.info.entities[entry.substring(i_id+3)].value}</span>\r\n                                    </span>\r\n                                }else\r\n                                    return <span onMouseUp={()=>handleSetEntity(i_turn,i_split)}>{entry}</span>\r\n                            })}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        {props.info.meta[props.info.selected].turns[i_turn].intentions.map((int) => (\r\n                                <ButtonBase onClick={()=>{handleRemoveIntention(int,i_turn)}} style={{padding:'1px', border:'thin solid '+props.info.intentions[int].color, borderRadius:'5px'}}>\r\n                                    <Typography variant=\"caption\" display=\"block\" style={{fontSize:'0.6rem',color:props.info.intentions[int].color}}>\r\n                                        {props.info.intentions[int].value}\r\n                                    </Typography>\r\n                                </ButtonBase>\r\n                            ))\r\n                        }\r\n                        <ButtonBase onClick={()=>handleSetIntention(i_turn)} style={{padding:'1px 3px 1px 3px', border:'thin solid grey', borderRadius:'5px'}}>\r\n                            <Typography variant=\"caption\" display=\"block\" style={{fontSize:'0.6rem',color:'grey'}}>\r\n                                +\r\n                            </Typography>\r\n                        </ButtonBase>\r\n                    </Grid>\r\n                    {checkFutureTopic(i_turn)?\r\n                        <Grid item container style={{position: 'relative'}} xs={12}>\r\n                            <div style={{width: '100%', height: '10px', borderBottom: '1px solid '+props.info.topics[props.info.meta[props.info.selected].turns[i_turn].topic].color, textAlign: 'center'}}>\r\n                            </div>\r\n                            <Divider/>\r\n                        </Grid>\r\n                    :\r\n                        null\r\n                    }  \r\n                </Grid>\r\n            ))}\r\n        </Grid>\r\n    )\r\n}","import CheckIcon from '@material-ui/icons/Check';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport KeyboardReturnIcon from '@material-ui/icons/KeyboardReturn';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    tablepaper: {\r\n        height: 600,\r\n        width: '100%',\r\n        marginTop: theme.spacing(3),\r\n        overflow: 'auto',\r\n    },\r\n    tableRow: {\r\n        \"&.Mui-selected, &.Mui-selected:hover\": {\r\n            backgroundColor: '#e8eaf6',\r\n        }\r\n    }\r\n}));\r\n\r\nexport default function DialogTable(props){\r\n    const classes = useStyles();\r\n    function select(index){\r\n        props.setInfo({...props.info, drawer:false, selected: index});\r\n    }\r\n    function change(index,newStatus){\r\n        let newMeta = props.info.meta;\r\n        const oldStatus = newMeta[index].status\r\n        newMeta[index].status=newStatus\r\n        let newCount = props.info.count;\r\n        newCount[oldStatus]--;\r\n        newCount[newStatus]++;\r\n        props.setInfo({...props.info, meta: newMeta, count: newCount});\r\n    }\r\n    return(\r\n        <List>\r\n            {props.info.data.dialogs.map((entry, index) => {\r\n                if(props.type===props.info.meta[index].status) \r\n                    return(\r\n                        <ListItem selected={index===props.info.selected}>\r\n                            <ListItemText primary={\"ID\"+entry.id}/>\r\n                            <ListItemSecondaryAction>\r\n                                <IconButton size='small' onClick={()=>select(index)}>\r\n                                    <CreateIcon />\r\n                                </IconButton>\r\n                                {props.info.meta[index].status===\"active\"?\r\n                                    <React.Fragment>\r\n                                        <IconButton size='small' onClick={()=>change(index,\"finished\")}>\r\n                                            <CheckIcon />\r\n                                        </IconButton>\r\n                                        <IconButton size='small' onClick={()=>change(index,\"deleted\")}>\r\n                                            <DeleteOutlineIcon />\r\n                                        </IconButton>\r\n                                    </React.Fragment>\r\n                                :\r\n                                    <IconButton size='small' onClick={()=>change(index,\"active\")}>\r\n                                        <KeyboardReturnIcon />\r\n                                    </IconButton>\r\n                                }\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    )\r\n                else\r\n                    return null;\r\n            })}\r\n        </List>\r\n    )\r\n}","import ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport DialogTable from './DialogTable.js';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    fab_dialogue: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(4),\r\n        left: theme.spacing(4),\r\n    },\r\n    fab_learning: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(12),\r\n        left: theme.spacing(4),\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n      id: `simple-tab-${index}`,\r\n      'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n  }\r\n\r\nexport default function Tables(props) {\r\n    const classes = useStyles();\r\n    const [table, setTable] = React.useState(0);\r\n    const openDrawer = () => {\r\n        props.setInfo({...props.info, drawer: true});\r\n    }\r\n    const closeDrawer = () => {\r\n        props.setInfo({...props.info, drawer: false});\r\n    }\r\n    return(\r\n        <React.Fragment>\r\n            <Drawer anchor='left' open={props.info.drawer} onClose={closeDrawer}>\r\n                <Tabs value={table} indicatorColor=\"primary\" textColor=\"primary\" onChange={(event, n) => setTable(n)} aria-label=\"simple tabs example\">\r\n                    <Tab label={\"Ativos \"+props.info.count.active} {...a11yProps(0)} />\r\n                    <Tab label={\"Completos \"+props.info.count.finished} {...a11yProps(1)} />\r\n                    <Tab label={\"Deletados \"+props.info.count.deleted} {...a11yProps(2)} />\r\n                </Tabs>\r\n                {table===0?<DialogTable type=\"active\" {...props} />\r\n                :table===1?<DialogTable type=\"finished\" {...props} />\r\n                :<DialogTable type=\"deleted\" {...props} />}\r\n            </Drawer>\r\n            <Fab variant=\"extended\" className={classes.fab_dialogue}>\r\n                <ChatBubbleOutlineIcon className={classes.margin}/>\r\n                Dialogos {props.info.count.finished}/{props.info.count.active+props.info.count.finished}\r\n            </Fab>\r\n        </React.Fragment>\r\n    )\r\n}","import AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport CasinoIcon from '@material-ui/icons/Casino';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nvar randomColor = require('randomcolor');\r\n\r\nexport default function Creator(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [creation, setCreation] = React.useState({color: randomColor({luminosity: 'dark'}), value: ''})\r\n    function handleCreate(){\r\n        if(props.entity && !props.intention && !props.topic){\r\n            let newEntities = props.info.entities;\r\n            newEntities.push(creation);\r\n            props.setInfo({...props.info, toolsetOpen: false, entities: newEntities, entity: newEntities.length-1});\r\n        }\r\n        else if(props.intention  && !props.entity && !props.topic){\r\n            let newIntentions = props.info.intentions;\r\n            newIntentions.push(creation);\r\n            props.setInfo({...props.info, toolsetOpen: false, intentions: newIntentions, intention: newIntentions.length-1});\r\n        }\r\n        else if(props.topic  && !props.entity && !props.intention){\r\n            let newTopics = props.info.topics;\r\n            newTopics.push(creation);\r\n            props.setInfo({...props.info, toolsetOpen: false, topics: newTopics, topic: newTopics.length-1});\r\n        \r\n        }\r\n    }\r\n    function close(){\r\n        setCreation({color: randomColor(),value:''});\r\n        setOpen(false);\r\n    }\r\n    return(\r\n        <>\r\n            <IconButton size='small' onClick={() => {setOpen(true)}}  style={{borderRadius:'0'}}>\r\n                <AddCircleOutlineIcon />\r\n            </IconButton>\r\n            <Dialog\r\n                open={open}\r\n                onClose={() => close()}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                <DialogTitle id=\"alert-dialog-title\">{\"Criar \" + (props.entity? \"Entidade\" : props.intention? \"Intenção\" : \"Domínio\")}</DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\" spacing={1}>\r\n                            <Grid item>\r\n                                <Box style={{width:'1.5rem',height:'1.5rem', backgroundColor: creation.color, border: 'thin solid grey', borderRadius: '0.3rem'}}/>\r\n                            </Grid>\r\n                        <Grid item>\r\n                            <IconButton onClick={() => setCreation({...creation, color: randomColor()})}>\r\n                                <CasinoIcon />\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                        <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"intention\"\r\n                        label={props.entity? \"Nome da Entidade\" : props.intention? \"Nome da Intenção\" : \"Nome do Domínio\"}\r\n                        fullWidth\r\n                        onChange={event => setCreation({...creation, value: event.target.value})}\r\n                        />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => close()} color=\"primary\">\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button disabled={!creation.value} onClick={() => {handleCreate();close()}} color=\"primary\">\r\n                        Criar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport Creator from './Creator.js';\r\n\r\nexport default function DialogToolset(props) {\r\n    function handleSelectEntity(index){\r\n        props.setInfo({...props.info, toolsetOpen: false, entity: index});\r\n    }\r\n    function handleSelectIntention(index){\r\n        props.setInfo({...props.info, toolsetOpen: false, intention: index});\r\n    }\r\n    function handleSelectTopic(index){\r\n        props.setInfo({...props.info, toolsetOpen: false, topic: index});\r\n\r\n    }\r\n    return(\r\n        <React.Fragment>\r\n                {props.info.toolsetSelected===1?\r\n                    <React.Fragment>\r\n                    <Creator intention {...props}/>\r\n                    <List dense='True'>\r\n                        {props.info.intentions.map((entry, index) => (\r\n                            <ListItem button onClick={()=>handleSelectIntention(index)} style={{color: entry.color}}>\r\n                                <ListItemText primary={'- ' + entry.value}/>\r\n                                <ListItemSecondaryAction>\r\n                                <IconButton onClick={()=>alert(\"edit(intention)\")} edge=\"end\" aria-label=\"delete\">\r\n                                    <CreateIcon />\r\n                                </IconButton>\r\n                                </ListItemSecondaryAction>\r\n                            </ListItem>\r\n                            \r\n                        ))}\r\n                    </List>\r\n                    </React.Fragment>\r\n                :props.info.toolsetSelected===0?\r\n                    <React.Fragment>\r\n                        <Creator entity {...props}/>\r\n                        <List dense='True'>\r\n                            {props.info.entities.map((entry, index) => (\r\n                                <ListItem button onClick={()=>handleSelectEntity(index)} style={{color: entry.color}}>\r\n                                    <ListItemText primary={'- ' + entry.value}/>\r\n                                    <ListItemSecondaryAction>\r\n                                    <IconButton onClick={()=>alert(\"edit(entity)\")} edge=\"end\" aria-label=\"delete\">\r\n                                        <CreateIcon />\r\n                                    </IconButton>\r\n                                    </ListItemSecondaryAction>\r\n                                </ListItem>\r\n                            ))}\r\n                        </List>\r\n                    </React.Fragment>\r\n                :\r\n                    <React.Fragment>\r\n                        <Creator topic {...props}/>\r\n                        <List dense='True'>\r\n                            {props.info.topics.map((entry, index) => (\r\n                                <ListItem button onClick={()=>handleSelectTopic(index)} style={{color: entry.color}}>\r\n                                    <ListItemText primary={'- ' + entry.value}/>\r\n                                    <ListItemSecondaryAction>\r\n                                    <IconButton onClick={()=>alert(\"edit(topic)\")} edge=\"end\" aria-label=\"delete\">\r\n                                        <CreateIcon />\r\n                                    </IconButton>\r\n                                    </ListItemSecondaryAction>\r\n                                </ListItem>\r\n                            ))}\r\n                        </List>\r\n                    </React.Fragment>\r\n                }\r\n        </React.Fragment>\r\n    )\r\n}","import ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\r\n\r\nimport DialogToolset from './DialogToolset.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    fab_entity: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(4),\r\n        right: theme.spacing(4),\r\n      },\r\n      fab_intention: {\r\n          position: 'fixed',\r\n          bottom: theme.spacing(12),\r\n          right: theme.spacing(4),\r\n      },\r\n      fab_topic: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(20),\r\n        right: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n      id: `simple-tab-${index}`,\r\n      'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n  }\r\n\r\nexport default function Toolset(props) {\r\n    const classes = useStyles();\r\n    const closeToolset = () => {\r\n        props.setInfo({...props.info, toolsetOpen: false})\r\n    }\r\n    function openToolset(i){\r\n        props.setInfo({...props.info, toolsetOpen: true, toolsetSelected: i})\r\n    }\r\n    function changeToolset(i){\r\n        props.setInfo({...props.info, toolsetSelected: i})\r\n    }\r\n    return(\r\n        <React.Fragment>\r\n            <Drawer anchor='right' open={props.info.toolsetOpen} onClose={closeToolset}>\r\n                <Tabs value={props.info.toolsetSelected} indicatorColor=\"primary\" textColor=\"primary\" onChange={(event, i) => changeToolset(i)} aria-label=\"simple tabs example\">\r\n                    <Tab label=\"Entidades\" {...a11yProps(0)} />\r\n                    <Tab label=\"Intenções\" {...a11yProps(1)} />\r\n                    <Tab label=\"Domínios\" {...a11yProps(2)} />\r\n                </Tabs>\r\n                {props.info.toolsetSelected?\r\n                    <DialogToolset type=\"intention\" {...props} />\r\n                :\r\n                    <DialogToolset type=\"entity\" {...props} />\r\n                }\r\n            </Drawer>\r\n            <Fab variant=\"extended\" style={props.info.intention!==-1?{color:props.info.intentions[props.info.intention].color}:null} onClick={() => openToolset(1)} className={classes.fab_intention}>\r\n                <ErrorOutlineIcon className={classes.margin}/>\r\n                {props.info.intention!==-1?\r\n                    props.info.intentions[props.info.intention].value\r\n                :    \r\n                    'Intenções'\r\n                }\r\n            </Fab>\r\n            <Fab variant=\"extended\" style={props.info.entity!==-1?{color:props.info.entities[props.info.entity].color}:null} onClick={() => openToolset(0)} className={classes.fab_entity}>\r\n                <PermIdentityIcon className={classes.margin}/>\r\n                {props.info.entity!==-1?\r\n                    props.info.entities[props.info.entity].value\r\n                :    \r\n                    'Entidades'\r\n                }\r\n            </Fab>\r\n            <Fab variant=\"extended\" style={props.info.topic!==-1?{color:props.info.topics[props.info.topic].color}:null} onClick={() => openToolset(2)} className={classes.fab_topic}>\r\n                <ChatBubbleOutlineIcon className={classes.margin}/>\r\n                {props.info.topic!==-1?\r\n                    props.info.topics[props.info.topic].value\r\n                :    \r\n                    'Domínios'\r\n                }\r\n            </Fab>\r\n        </React.Fragment>\r\n    )\r\n}","import Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport DialogCard from './Annotation/DialogCard.js';\r\nimport Tables from './Annotation/Tables.js';\r\nimport Toolset from './Annotation/Toolset.js';\r\n\r\n\r\nimport axios from 'axios';\r\nimport { Rings } from  'react-loader-spinner';\r\nimport { trackPromise, usePromiseTracker } from \"react-promise-tracker\";\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\nexport default function Annotation(props) {\r\n    const theme = useTheme();\r\n    const { promiseInProgress } = usePromiseTracker();\r\n    const finishDialog=()=>{\r\n        let newMeta = props.info.meta;\r\n        newMeta[props.info.selected].status=\"finished\"\r\n        let newCount = props.info.count;\r\n        newCount[\"active\"]--;\r\n        newCount[\"finished\"]++;\r\n        if(props.info.count.finished>=5){\r\n            trackPromise(axios.get(\"http://localhost:5000/\")\r\n                .then((response) => {\r\n                props.setInfo({...props.info, learning: 0, dataLearning: response.data.dataLearning, metaLearning: response.data.metaLearning });\r\n                }).catch((error) => {\r\n                alert(\"Failed connecting to API\")\r\n            }))\r\n        }\r\n        if(props.info.selected!==props.info.data.dialogs.length-1){\r\n            props.setInfo({...props.info, meta: newMeta, count: newCount, selected: props.info.selected+1});\r\n        }\r\n        else{\r\n            props.setInfo({...props.info, meta: newMeta, count: newCount, step:1});\r\n        }\r\n    }\r\n    const deleteDialog=()=>{\r\n        let newMeta = props.info.meta;\r\n        newMeta[props.info.selected].status=\"deleted\"\r\n        let newCount = props.info.count;\r\n        newCount[\"active\"]--;\r\n        newCount[\"deleted\"]++;\r\n        if(props.info.count.finished>=5){\r\n            trackPromise(axios.get(\"http://localhost:5000/\")\r\n                .then((response) => {\r\n                props.setInfo({...props.info, learning: 0, dataLearning: response.data.dataLearning, metaLearning: response.data.metaLearning });\r\n                }).catch((error) => {\r\n                alert(\"Failed connecting to API\")\r\n            }))\r\n        }\r\n        if(props.info.selected!==props.info.data.dialogs.length-1){\r\n            props.setInfo({...props.info, meta: newMeta, count: newCount, selected: props.info.selected+1});\r\n        }\r\n        else{\r\n            props.setInfo({...props.info, meta: newMeta, count: newCount, step:1});\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <Grid item container xs={12} direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={1} style={{paddingTop:'1rem'}}>       \r\n            <Tables {...props}/>\r\n            <Toolset {...props}/>\r\n            <Typography variant=\"overline\" style={{paddingTop: '1rem'}}>\r\n                Dialogo Nº{props.info.data.dialogs[props.info.selected].id}\r\n            </Typography>\r\n            {props.info.count.finished>=5?\r\n                <Typography variant=\"caption\">\r\n                    Anotado Automaticamente por <b>BERT Vanilla</b>\r\n                </Typography>\r\n            :null}\r\n            <Grid item>\r\n                <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\r\n                    <Button disabled={promiseInProgress} onClick={deleteDialog}>Deletar</Button>\r\n                    <Button disabled={promiseInProgress} onClick={finishDialog}>Continuar</Button>\r\n                </ButtonGroup>\r\n            </Grid>\r\n            {promiseInProgress?\r\n                <Rings color={theme.palette.primary.light} />\r\n            :\r\n                <DialogCard {...props}/>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport EditText from './EditText.js';\r\n\r\nconst incomingHex = '#E8E8E8'; // '#b5d9a7'\r\nconst outgoingHex = '#C8C8C8'; // '#b9d5f0'\r\n\r\nconst useStyles = makeStyles({\r\n    incoming: {\r\n        background: incomingHex,\r\n        padding: '18px 20px',\r\n        lineHeight: '26px',\r\n        fontSize: '16px',\r\n        borderRadius: '7px',\r\n        width: '90%',\r\n        position: 'relative',\r\n        '&::after': {\r\n            bottom: '100%',\r\n            left: '5%',\r\n            border: 'solid transparent',\r\n            content: '\" \"',\r\n            height: '0',\r\n            width: '0',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            borderBottomColor: incomingHex,\r\n            borderWidth: '10px',\r\n            marginLeft: '-10px',\r\n          }\r\n    },\r\n    outgoing:{\r\n        background: outgoingHex,\r\n        padding: '18px 18px',\r\n        lineHeight: '26px',\r\n        fontSize: '16px',\r\n        borderRadius: '7px',\r\n        width: '90%',\r\n        position: 'relative',\r\n        '&::after': {\r\n            bottom: '100%',\r\n            left: '95%',\r\n            border: 'solid transparent',\r\n            content: '\" \"',\r\n            height: '0',\r\n            width: '0',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            borderBottomColor: outgoingHex,\r\n            borderWidth: '10px',\r\n            marginLeft: '-10px',\r\n          }\r\n    }\r\n  });\r\n\r\nexport default function DialogCard(props){\r\n    const classes = useStyles();\r\n    function capitalize(string) {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n    function addAlpha(color, opacity) {\r\n        const _opacity = Math.round(Math.min(Math.max(opacity || 1, 0), 1) * 255);\r\n        return color + _opacity.toString(16).toUpperCase();\r\n    }\r\n    \r\n    function handleSetIntention(i_turn){\r\n        return false\r\n    }\r\n    function handleRemoveIntention(int,i_turn){\r\n        return false\r\n    }\r\n    function handleSetEntity(i_turn,i_split){\r\n        return false\r\n    }\r\n    function handleRemoveEntity(i_turn, i_split){\r\n        return false\r\n    }\r\n    function editTurn(i_turn){\r\n        return false\r\n    }\r\n    function setTopic(i_turn){\r\n        return false   \r\n    }\r\n    function checkPreviousTopic(i_turn){\r\n        return false\r\n    }\r\n    function checkFutureTopic(i_turn){\r\n        return false\r\n    }\r\n    return(\r\n        <Grid item xs={4} container direction=\"column\" justifyContent=\"center\" alignItems=\"stretch\">\r\n            {props.info.edit!==-1?<EditText {...props}/>:null}\r\n            {props.info.dataLearning.dialogs[props.info.learning].turns.map((turn, i_turn) => (\r\n                <Grid item container direction=\"column\" justifyContent=\"flex-start\" alignItems={turn.speaker==='agent'?\"flex-start\":\"flex-end\"}>\r\n                    {checkPreviousTopic(i_turn)?\r\n                        <Grid item container style={{position: 'relative'}} xs={12}>\r\n                            <div style={{width: '100%', height: '10px', borderBottom: '1px solid '+props.info.topics[props.info.metaLearning[props.info.learning].turns[i_turn].topic].color, textAlign: 'center'}}>\r\n                                <span style={{backgroundColor: 'white', padding: '0 1rem', color: props.info.topics[props.info.metaLearning[props.info.learning].turns[i_turn].topic].color}}>\r\n                                    {props.info.topics[props.info.metaLearning[props.info.learning].turns[i_turn].topic].value}\r\n                                </span>\r\n                            </div>\r\n                            <Divider/>\r\n                        </Grid>\r\n                    :\r\n                        null\r\n                    } \r\n                    <Grid item style={{padding:'0.5rem'}}>\r\n                        <b>\r\n                            {turn.speaker==='agent'?capitalize(turn.speaker):null}\r\n                            <span style={{cursor: 'pointer'}} onClick={()=>editTurn(i_turn)}> ✎ </span>\r\n                            <span style={{cursor: 'pointer'}} onClick={()=>setTopic(i_turn)}> 📌 </span>\r\n                            {turn.speaker==='client'?capitalize(turn.speaker):null}\r\n                        </b>\r\n                    </Grid>\r\n                    <Grid xs={12} item className={turn.speaker==='agent'?classes.incoming:classes.outgoing} component={Paper}>\r\n                        <Typography component=\"p\" gutterBottom>\r\n                            {props.info.metaLearning[props.info.learning].turns[i_turn].entities.split(\"###\").map((entry, i_split) => {\r\n                                if(i_split%2){\r\n                                    const i_id = entry.indexOf('&&&')\r\n                                    const color = props.info.entities[entry.substring(i_id+3)].color\r\n                                    return <span onClick={()=>handleRemoveEntity(i_turn, i_split)} style={{border:'thin solid '+color, borderRadius: '5px', padding:'2px', cursor: 'pointer', color:color}} className='noselect'>{entry.substring(0,i_id)}\r\n                                        <span style={{fontSize: '8px', display: 'table-cell', verticalAlign: 'middle', backgroundColor: addAlpha(color,0.3), padding:'2px', borderRadius:'4px'}}>{props.info.entities[entry.substring(i_id+3)].value}</span>\r\n                                    </span>\r\n                                }else\r\n                                    return <span onMouseUp={()=>handleSetEntity(i_turn,i_split)}>{entry}</span>\r\n                            })}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        {props.info.metaLearning[props.info.learning].turns[i_turn].intentions.map((int) => (\r\n                                <ButtonBase onClick={()=>{handleRemoveIntention(int,i_turn)}} style={{padding:'1px', border:'thin solid '+props.info.intentions[int].color, borderRadius:'5px'}}>\r\n                                    <Typography variant=\"caption\" display=\"block\" style={{fontSize:'0.6rem',color:props.info.intentions[int].color}}>\r\n                                        {props.info.intentions[int].value}\r\n                                    </Typography>\r\n                                </ButtonBase>\r\n                            ))\r\n                        }\r\n                        <ButtonBase onClick={()=>handleSetIntention(i_turn)} style={{padding:'1px 3px 1px 3px', border:'thin solid grey', borderRadius:'5px'}}>\r\n                            <Typography variant=\"caption\" display=\"block\" style={{fontSize:'0.6rem',color:'grey'}}>\r\n                                +\r\n                            </Typography>\r\n                        </ButtonBase>\r\n                    </Grid>\r\n                    {checkFutureTopic(i_turn)?\r\n                        <Grid item container style={{position: 'relative'}} xs={12}>\r\n                            <div style={{width: '100%', height: '10px', borderBottom: '1px solid '+props.info.topics[props.info.metaLearning[props.info.learning].turns[i_turn].topic].color, textAlign: 'center'}}>\r\n                            </div>\r\n                            <Divider/>\r\n                        </Grid>\r\n                    :\r\n                        null\r\n                    }  \r\n                </Grid>\r\n            ))}\r\n        </Grid>\r\n    )\r\n}","import Button from '@material-ui/core/Button';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport { purple } from '@material-ui/core/colors';\r\nimport { withStyles} from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.getContrastText(purple[500]),\r\n      backgroundColor: purple[700],\r\n      '&:hover': {\r\n        backgroundColor: purple[900],\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\nexport default function DownloadPage(props) {\r\n    // Terminar na V0:\r\n    // - entidades no arquivo de saida\r\n    // - tirar dialogos marcadas como deletados\r\n    // V0.1:\r\n    // - Passar a tabela para o drawer lateral\r\n    // - Nova barra de ferramentas\r\n    // - Deletar intenções e entidades (usar o marcador)\r\n    function download() {\r\n        const filename = props.info.filename.substring(0,props.info.filename.length-5)+'_anotado.json';\r\n        let output = props.info.data;\r\n        let meta = props.info.meta;\r\n        let intention_names = props.info.intentions.map((e) => (e.value))\r\n        let entity_names = props.info.entities.map((e) => (e.value))\r\n        output.ontology[\"slot-values\"] = {}\r\n        if(!Array.isArray(output.ontology.intents)){\r\n            output.ontology.intents = []\r\n        }\r\n        if(!Array.isArray(output.ontology.actions)){\r\n            output.ontology.actions = []\r\n        }\r\n        // console.log(props.info)\r\n        for(let d=0;d<output.dialogs.length;d++){\r\n            for(let t=0;t<output.dialogs[d].turns.length;t++){\r\n                let turn = output.dialogs[d].turns[t]\r\n                let turn_meta = meta[d].turns[t]\r\n                // Intenções\r\n                let intent_type_ont = turn.intent?'intents':'actions'\r\n                let intent_type = turn[\"turn-num\"]%2?'action':'intent'\r\n                console.log(intent_type);\r\n                turn[intent_type] = ''\r\n                for(let i=0;i<turn_meta.intentions.length;i++){\r\n                    let intention = intention_names[turn_meta.intentions[i]]\r\n                    if(!output.ontology[intent_type_ont]){\r\n                        output.ontology[intent_type_ont] = [intention]\r\n                    }\r\n                    else if(!output.ontology[intent_type_ont].includes(intention)){\r\n                        output.ontology[intent_type_ont].push(intention)\r\n                    }\r\n                    turn[intent_type] = turn[intent_type] +'['+intention+']'\r\n                }\r\n                // Entidades\r\n                let meta_delex = meta[d].turns[t].entities.split('###')\r\n                let final_delex = ''\r\n                turn['slot-values'] = {}\r\n                for(let i=0;i<meta_delex.length;i++){\r\n                    let start_id = meta_delex[i].indexOf('&&&')\r\n                    if(start_id===-1){\r\n                        final_delex = final_delex + meta_delex[i]\r\n                    }\r\n                    else{\r\n                        let entity = entity_names[meta_delex[i].substring(start_id+3)]\r\n                        let value = meta_delex[i].substring(0,start_id)\r\n                        final_delex = final_delex + '['+entity+']'\r\n                        // Adicionando na ontologia\r\n                        if(!output.ontology['slot-values'][entity]){\r\n                            output.ontology['slot-values'][entity] = [value]\r\n                        }\r\n                        else if(!output.ontology['slot-values'][entity].includes(value)){\r\n                            output.ontology['slot-values'][entity].push(value)\r\n                        }\r\n                        // Adicionando no slot-values\r\n                        if(!(entity in turn['slot-values'])){\r\n                            turn['slot-values'][entity]=value;\r\n                        }\r\n                        else{\r\n                            if(Array.isArray(turn['slot-values'][entity])){\r\n                                if(!turn['slot-values'][entity].includes(value)){\r\n                                    turn['slot-values'][entity].push(value);\r\n                                }\r\n                            }\r\n                            // Se não for uma lista, preciso ou verificar se não é o mesmo valor, ou criar uma lista\r\n                            else{\r\n                                if(!(value===turn['slot-values'][entity])){\r\n                                    let newList = [turn['slot-values'][entity],value];\r\n                                    turn['slot-values'][entity] = newList;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                turn[\"utterance_delex\"] = final_delex;\r\n            }\r\n        }\r\n        var file = new Blob([JSON.stringify(output,undefined,2)], {type: \"application/json\"});\r\n        if (window.navigator.msSaveOrOpenBlob) // IE10+\r\n            window.navigator.msSaveOrOpenBlob(file, filename);\r\n        else { // Others\r\n            var a = document.createElement(\"a\"), url = URL.createObjectURL(file);\r\n            a.href = url;\r\n            a.download = filename;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            setTimeout(function() {\r\n                document.body.removeChild(a);\r\n                window.URL.revokeObjectURL(url);\r\n            }, 0);\r\n        }\r\n    }\r\n    return(\r\n        <Grid item container direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\r\n            <Typography style={{paddingTop:'5rem',paddingBottom:'1rem'}}>\r\n                Seu dataset está anotado! Você pode baixar seu dataset e continuar editando outros arquivos.\r\n            </Typography>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"large\" startIcon={<GetAppIcon />} onClick={() => download()}>\r\n                Download\r\n            </Button>\r\n            <Typography style={{paddingTop:'1rem',paddingBottom:'1rem'}}>\r\n                Ajude também respondendo o questionário de usabilidade:\r\n            </Typography>\r\n            <ColorButton variant=\"contained\" color=\"primary\" size=\"large\" startIcon={<ListIcon />} href=\"https://forms.gle/VewHUNnYB8JX71E26\">\r\n                Questionário\r\n            </ColorButton>\r\n        </Grid>\r\n    )\r\n}\r\n","import Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport React from 'react';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport {DropzoneAreaBase} from 'material-ui-dropzone';\r\nimport randomColor from 'randomcolor';\r\nimport { ifStatement } from '@babel/types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    dropzone: {\r\n        paddingTop: '1rem',\r\n        margin: 'auto',\r\n        maxWidth: '50rem',\r\n        textAlign: 'center',\r\n    },\r\n}));\r\nfunction SideCard(props){\r\n  return(\r\n    <Grid item xs={6}>\r\n      <Card xs={6}>\r\n        <CardActionArea href={\"https://unicamp-cit.notion.site/unicamp-cit/CI-T-Unicamp-ca7a3fc10d9a43f09a14c5dd4d31e554\"}>\r\n          <div style={{display: 'flex'}}>\r\n            <CardMedia style={{width: 100}} image={props.image}/>\r\n            <div style={{display: 'flex', flexDirection: 'column'}}>\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {props.title}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  {props.text}\r\n                </Typography>\r\n              </CardContent>\r\n            </div>\r\n          </div>\r\n        </CardActionArea>\r\n      </Card>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nfunction Cards(){\r\n    return(\r\n      <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" spacing={2} style={{paddingBottom: '2rem', textAlign: 'left'}}>   \r\n        <SideCard title=\"Tutorial\" text=\"Aprenda a usar a ferramenta\" image=\"https://www.pythontutorial.net/wp-content/uploads/2020/11/tkinter-tutorial.png\"/>\r\n        <SideCard title=\"Metodologia\" text=\"Como decidir entidades e intenções?\" image=\"https://www.mahdimamouri.com/media/consulting/nlp.png\"/>\r\n        <SideCard title=\"Documentação\" text=\"Como alterar a API e funções\" image=\"https://code.visualstudio.com/assets/docs/languages/javascript/overview.png\"/>\r\n        <SideCard title=\"Equipe\" text=\"Conheça nossa equipe de pesquisa!\" image=\"https://ic.unicamp.br/~jreis/media/image1.png\"/>\r\n      </Grid>\r\n    )\r\n}\r\n\r\nexport default function UploadPage(props) {\r\n    const classes = useStyles();\r\n    const [settings, setSettings] = React.useState({\r\n        todo: {\r\n          manual: true,\r\n          verification: true,\r\n          import_file: true,\r\n          import_default: false,\r\n          automatic: true,\r\n        },\r\n        filename: '',\r\n        data: {dialogs: []},\r\n        open: false,\r\n        range: [0,100],\r\n    });\r\n    function handleTodo(event){\r\n        setSettings({...settings, todo: {...settings.todo, [event.target.name]: event.target.checked}});\r\n    }\r\n    const handleRange = (event,range) => {\r\n        setSettings({...settings, range: range});\r\n    }\r\n    function b64DecodeUnicode(str) {\r\n        return decodeURIComponent(atob(str).split('').map(function(c) {\r\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(''));\r\n    }\r\n    var printError = function(error, explicit) {\r\n        console.log(`[${explicit ? 'EXPLICIT' : 'INEXPLICIT'}] ${error.name}: ${error.message}`);\r\n    }\r\n    function handleFile(fileObjs){\r\n        const filename = fileObjs[0].file.name\r\n        console.log(filename +'-'+fileObjs[0].file)\r\n        try {\r\n            let result = JSON.parse(b64DecodeUnicode(fileObjs[0].data.substring(29)));\r\n            setTemp(filename,result);\r\n        } catch (e) {\r\n            alert(\"Seu .json está com problemas, verifique se ele não há caracteres faltando ou errados\\n(veja o erro no console.log)\");\r\n            if (e instanceof SyntaxError) {\r\n                printError(e, true);\r\n            } else {\r\n                printError(e, false);\r\n            }\r\n        }\r\n    } \r\n    function seeExample(){\r\n        const example = require('../../ExampleData/creditos_placa_errada_8.json');\r\n        setTemp('creditos_placa_errada_8.json',example)\r\n    }\r\n    function setTemp(filename,json_data){\r\n        setSettings({...settings, filename: filename, data:json_data, range: [0,json_data.dialogs.length-1], open: true});\r\n    }\r\n    function handleConfirm(){\r\n        let json_data = settings.data\r\n        let meta = []\r\n        let count = {active: json_data.dialogs.length, finished: 0, deleted: 0}\r\n        let entities = []\r\n        let intentions = []\r\n        let entities_id = Object.keys(json_data.ontology['slot-values']);\r\n        entities = entities_id.map((value) => ({color: randomColor({luminosity: 'dark'}), value: value}))\r\n        let intentions_id = json_data.ontology.intents.concat(json_data.ontology.actions);\r\n        intentions_id = [...new Set(intentions_id)].sort();\r\n        intentions = intentions_id.map((value) => ({color: randomColor({luminosity: 'dark'}), value: value}))\r\n        if(settings.todo.import_file){\r\n          for(let d=0;d<json_data.dialogs.length;d++){\r\n              let turnmeta = []\r\n              let int = 0;\r\n              let ent = 0;\r\n              for(let t=0;t<json_data.dialogs[d].turns.length;t++){\r\n                  let turn = json_data.dialogs[d].turns[t]\r\n                  // Parte das intenções\r\n                  let intent_name = turn.speaker===\"client\"?\"intent\":\"action\";\r\n                  let intents_str = turn[intent_name]\r\n                  let intention_list = []\r\n                  if(intents_str&&intents_str!==\"\"){\r\n                      let intents = turn[intent_name].replace(\"]\",\"\").split(\"[\");\r\n                      // Criar intenção que não está na lista\r\n                      for(let i=0;i<intents.length;i++){\r\n                          let intent = intents[i].replace(\"]\",\"\")\r\n                          if(intent!==''){\r\n                              if(!intentions_id.includes(intent)){\r\n                                  intentions_id.push(intent)\r\n                                  intentions.push({color: randomColor({luminosity: 'dark'}), value: intent})\r\n                              }\r\n                              intention_list.push(intentions_id.indexOf(intent));\r\n                              int++;\r\n                          }\r\n                      }\r\n                  }\r\n                  // Parte das entidades\r\n                  let newDelex = '';\r\n                  if(turn.utterance_delex){\r\n                      let oldDelex = turn.utterance_delex;\r\n                      let oldDelex_split = oldDelex.split('[')\r\n                      for(let i=0;i<oldDelex_split.length;i++){\r\n                          let end = oldDelex_split[i].indexOf(']')\r\n                          if(end!==-1){\r\n                              let entity = oldDelex_split[i].substring(0,end);\r\n                              let value = turn[\"slot-values\"][entity]\r\n                              if(!entities_id.includes(entity)){\r\n                                  entities_id.push(entity)\r\n                                  entities.push({color: randomColor({luminosity: 'dark'}), value: entity})\r\n                              }\r\n                              let entity_id = entities_id.indexOf(entity)\r\n                              if(Array.isArray(value)){\r\n                                  newDelex = newDelex + '###'+value.shift()+'&&&'+entity_id+'###'+oldDelex_split[i].substring(end+1)\r\n                              }\r\n                              else{\r\n                                  newDelex = newDelex + '###'+value+'&&&'+entity_id+'###'+oldDelex_split[i].substring(end+1)\r\n                              }\r\n                              ent++;\r\n                          }\r\n                          else{\r\n                              newDelex = newDelex + oldDelex_split[i]\r\n                          }\r\n                      }\r\n                  }\r\n                  turnmeta.push({\r\n                      intentions: intention_list,\r\n                      topic: -1,\r\n                      entities: newDelex?newDelex:json_data.dialogs[d].turns[t].utterance\r\n                  })\r\n              }\r\n              meta.push({int: int, ent: ent, status:\"active\", turns: turnmeta})\r\n          }\r\n        }\r\n        else{\r\n          for(let d=0;d<json_data.dialogs.length;d++){\r\n            let turnmeta = [];\r\n            for(let t=0;t<json_data.dialogs[d].turns.length;t++){\r\n              let turn = json_data.dialogs[d].turns[t]\r\n              turnmeta.push({intentions: [],topic: -1,entities: turn.utterance})\r\n            }\r\n            meta.push({int: 0, ent: 0, status:\"active\", turns: turnmeta})\r\n          }\r\n        }\r\n        props.setInfo({...props.info, selected: 0, entities: entities, intentions: intentions, filename: settings.filename, data: json_data, meta: meta, count: count, step: 0});\r\n        setSettings({...settings, data: {dialogs: []}})\r\n    }\r\n    return(\r\n        <main className={classes.dropzone}>\r\n            <Cards />\r\n            <Button variant=\"contained\" color=\"primary\" style={{marginBottom:'1rem'}} onClick={() => seeExample()}>\r\n                Dados de Exemplo\r\n            </Button>\r\n            <DropzoneAreaBase\r\n              dropzoneText=\"Adicione as conversas do seu Chatbot\"\r\n              onAdd={(fileObjs) => {handleFile(fileObjs)}}\r\n              />\r\n            <Dialog\r\n                open={settings.open}\r\n                onClose={() => setSettings({...settings, data: {dialogs: []}, open: false})}\r\n                maxWidth='sm'\r\n                fullWidth={true}\r\n                >\r\n                <DialogContent>\r\n                    <Typography variant='h5'>\r\n                        {\"Arquivo \" + settings.filename}\r\n                    </Typography>\r\n                    <Grid container direction=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\r\n                        <FormGroup>\r\n                          <FormControlLabel\r\n                            control={<Checkbox checked={settings.todo.import_file} onChange={handleTodo} color=\"primary\" name=\"import_file\" />}\r\n                            label=\"Importar Entidades e Intenções do Arquivo\"\r\n                            />\r\n                          <FormHelperText>Detectamos que o arquivo já possui entidades e intenções</FormHelperText>\r\n                          <FormControlLabel\r\n                            control={<Checkbox checked={settings.todo.import_default} onChange={handleTodo} color=\"primary\" name=\"import_default\" />}\r\n                            label=\"Usar Entidades e Intenções Existentes\"\r\n                            />\r\n                          {settings.todo.import_default?\r\n                            <React.Fragment>\r\n                              <FormControl>\r\n                                <Select\r\n                                  value={\"\"}\r\n                                  displayEmpty\r\n                                  renderValue={(selected) => selected}\r\n                                  >\r\n                                  <MenuItem value={\"\"} disabled>\r\n                                    Selecione para importar\r\n                                  </MenuItem>\r\n                                  <MenuItem value={\"Placa Errada\"}>\r\n                                    <Checkbox checked={false} />\r\n                                    <ListItemText primary=\"Placa Errada\" secondary=\"Entidades de atendimento\" />\r\n                                    <ListItemSecondaryAction>\r\n                                      <IconButton edge=\"end\">\r\n                                        <HelpOutlineIcon />\r\n                                      </IconButton>\r\n                                    </ListItemSecondaryAction>\r\n                                  </MenuItem>\r\n                                  <MenuItem value={\"Fatura\"}>\r\n                                    <Checkbox checked={false} />\r\n                                    <ListItemText primary=\"Fatura\" secondary=\"Intenções de consultoria\"/>\r\n                                    <ListItemSecondaryAction>\r\n                                      <IconButton edge=\"end\">\r\n                                        <HelpOutlineIcon />\r\n                                      </IconButton>\r\n                                    </ListItemSecondaryAction>\r\n                                  </MenuItem>\r\n                                </Select>\r\n                                <FormHelperText>Listas de intenções e entidades disponíveis</FormHelperText>\r\n                              </FormControl>\r\n                            </React.Fragment>\r\n                          :null}\r\n                            <FormControlLabel\r\n                            control={<Checkbox checked={settings.todo.manual} onChange={handleTodo} color=\"primary\" name=\"manual\" />}\r\n                            label=\"Anotação Manual\"\r\n                            />\r\n                            {/* {settings.todo.manual?\r\n                                <React.Fragment>\r\n                                    <Slider value={settings.range} onChange={handleRange}\r\n                                        step={1}\r\n                                        min={0}\r\n                                        max={settings.data.dialogs.length-1}\r\n                                        valueLabelFormat={(value) => {return value}}\r\n                                        valueLabelDisplay=\"auto\"\r\n                                    />\r\n                                    <Typography variant=\"caption\">\r\n                                        Você anotará <b>{Math.floor(settings.range[1]-settings.range[0])}</b> dialogos (ID{settings.data.dialogs[settings.range[0]]?settings.data.dialogs[settings.range[0]].id:0} - ID{settings.data.dialogs[settings.range[1]]?settings.data.dialogs[settings.range[1]].id:0})\r\n                                    </Typography>\r\n                                </React.Fragment>\r\n                            :null} */}\r\n                            <FormControlLabel label=\"Active Learning\" control={<Checkbox checked={settings.todo.verification} onChange={handleTodo} color=\"primary\" name=\"verification\" />}/>\r\n                            {settings.todo.verification?\r\n                              <React.Fragment>\r\n                                <FormControl>\r\n                                  <Select\r\n                                    value={\"\"}\r\n                                    renderValue={(selected) => selected}\r\n                                    >\r\n                                    <MenuItem value={\"BERT Vanilla\"}>\r\n                                      <Checkbox checked={false} />\r\n                                      <ListItemText primary=\"BERT Vanilla\" secondary=\"BERT para testes\" />\r\n                                      <ListItemSecondaryAction>\r\n                                        <IconButton edge=\"end\">\r\n                                          <HelpOutlineIcon />\r\n                                        </IconButton>\r\n                                      </ListItemSecondaryAction>\r\n                                    </MenuItem>\r\n                                    <MenuItem value={\"BERT ConnectCar\"}>\r\n                                      <Checkbox checked={false} />\r\n                                      <ListItemText primary=\"BERT ConnectCar\" secondary=\"BERT da ConnectCar\"/>\r\n                                      <ListItemSecondaryAction>\r\n                                        <IconButton edge=\"end\">\r\n                                          <HelpOutlineIcon />\r\n                                        </IconButton>\r\n                                      </ListItemSecondaryAction>\r\n                                    </MenuItem>\r\n                                  </Select>\r\n                                  <FormHelperText>Servidores disponíveis para anotação automática</FormHelperText>\r\n                                </FormControl>\r\n                                {/* <FormControlLabel label=\"Envio automático\" control={<Checkbox checked={settings.todo.automatic} onChange={handleTodo} color=\"primary\" name=\"automatic\" />}/>\r\n                                <FormHelperText>Conforme você anota, ele enviará para a IA</FormHelperText> */}\r\n                              </React.Fragment>\r\n                            :null}\r\n                          </FormGroup>\r\n                        {!settings.todo.manual && !settings.todo.verification?\r\n                        <Typography variant=\"caption\">\r\n                            A IA pré-treinada fará <b>toda a anotação</b> para você, sem verificação.\r\n                        </Typography>\r\n                        :settings.todo.manual && !settings.todo.verification?\r\n                        <Typography variant=\"caption\">\r\n                            Você irá anotar algumas <b>intenções e entidades</b> para a IA.\r\n                        </Typography>\r\n                        :settings.todo.manual && settings.todo.verification?\r\n                        <Typography variant=\"caption\">\r\n                            Você irá anotar <b>intenções, entidades,</b> e ainda ajudar a <b>verificar</b> as que a IA anotou.\r\n                        </Typography>\r\n                        :\r\n                        <Typography variant=\"caption\">\r\n                            Você irá <b>conferir e arrumar</b> as anotações feitas pela IA.\r\n                        </Typography>\r\n                        }\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setSettings({...settings, data: {dialogs: []}, open: false})} color=\"primary\">\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button onClick={() => handleConfirm()} color=\"primary\">\r\n                        Confirmar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </main>\r\n    )\r\n}\r\n","import Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function ErrorPage(props) {\r\n    return(\r\n        <Grid item container direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\r\n            <Typography style={{paddingTop:'13rem',paddingBottom:'2rem'}}>\r\n                Olá, se você está vendo essa página, há algum problema na navegação dos passos. Por favor informe os administradores sobre o problema.\r\n            </Typography>\r\n        </Grid>\r\n    )\r\n}","import Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Container from '@material-ui/core/Container';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport { MuiThemeProvider, createTheme } from \"@material-ui/core/styles\";\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport Footer from './Common/Footer.js';\r\nimport TitleToolbar from './Common/TitleToolbar.js';\r\nimport Forms from './Common/Forms.js';\r\nimport AnnotationPage from './Pages/AnnotationPage.js';\r\nimport LearningPage from './Pages/LearningPage.js';\r\nimport DownloadPage from './Pages/DownloadPage.js';\r\nimport UploadPage from './Pages/UploadPage.js';\r\nimport ErrorPage from './Pages/ErrorPage.js';\r\n\r\nconst themeLight = createTheme({\r\n    \r\n});\r\n\r\nexport default function Page() {\r\n    const [info, setInfo] = React.useState({\r\n      filename: '',\r\n      step: -1,\r\n      selected: -1,\r\n      data: {},\r\n      meta: [],\r\n      intention: -1,\r\n      intentions: [],\r\n      count: {active: 0, finished: 0, deleted: 0},\r\n      entity: -1,\r\n      topic: -1,\r\n      topics: [],\r\n      drawer: false,\r\n      toolsetOpen: false,\r\n      toolsetSelected: 0,\r\n      edit: -1,\r\n      entities: [],\r\n      learning: -1,\r\n      dataLearning: {},\r\n      metaLearning: [],\r\n      forms: true,\r\n    });\r\n    function handleStep(nstep){\r\n      if(nstep==2){\r\n        setInfo({...info, step: -1});\r\n      }\r\n      else{\r\n        setInfo({...info, step: nstep});\r\n      }\r\n    }\r\n    const sendInfo = {info, setInfo}\r\n    return (\r\n        <MuiThemeProvider theme={themeLight}>\r\n            <CssBaseline />\r\n            <div style={{minHeight:'97vh'}}>\r\n                <Container maxWidth=\"lg\">\r\n                    <TitleToolbar />\r\n                </Container>\r\n                <Forms {...sendInfo}/> \r\n                <div style={{paddingRight:'1rem',paddingLeft:'3rem'}}>\r\n                    {0 <= info.step && info.step <= 2? \r\n                        <main>\r\n                            <Grid container xs={12} direction=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\r\n                                {/* <Grid item xs={6}>\r\n                                    <Stepper activeStep={info.step} alternativeLabel style={{ backgroundColor: \"transparent\" }}>\r\n                                        <Step key={0}>\r\n                                            <StepLabel>Anotar</StepLabel>\r\n                                        </Step>\r\n                                        <Step key={1}>\r\n                                            <StepLabel>Baixar</StepLabel>\r\n                                        </Step>\r\n                                    </Stepper>\r\n                                </Grid> */}\r\n                                <Grid item xs={12} style={{paddingTop:'1rem'}}>\r\n                                    <ButtonGroup variant=\"contained\" color=\"primary\" aria-label=\"contained primary button group\">\r\n                                        <Button onClick={() => {handleStep(info.step-1)}}>Voltar</Button>\r\n                                        <Button onClick={() => {handleStep(info.step+1)}}>Avançar</Button>\r\n                                    </ButtonGroup>\r\n                                </Grid>\r\n                                {info.step === 0?\r\n                                    <AnnotationPage {...sendInfo}/>\r\n                                // :info.step === 1?\r\n                                //     <LearningPage {...sendInfo}/>\r\n                                :info.step === 1?\r\n                                    <DownloadPage {...sendInfo}/>\r\n                                :\r\n                                    <ErrorPage />\r\n                                }\r\n                            </Grid>\r\n                        </main>\r\n                    :\r\n                        <UploadPage {...sendInfo} />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </MuiThemeProvider>\r\n\t);\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Page from './Components/Page.js'\n\nReactDOM.render(<Page />,document.getElementById('root'));\n"],"sourceRoot":""}